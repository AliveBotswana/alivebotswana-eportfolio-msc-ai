# Exploratory Data Analysis (EDA) on NYC Airbnb Dataset
## Contribution to Group Work Assignment
### MSc in AI, University of Essex

This notebook contains my contributions to the group assignment: loading the dataset, inspecting it, performing basic cleaning, and creating visualizations
to understand price distributions, geographical patterns, and estimated occupancy rates.

# LOADING AND INSPECTING THE DATA
import kagglehub
from kagglehub import KaggleDatasetAdapter
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
%matplotlib inline
import seaborn as sns
import scipy.stats as st

# Load the dataset from Kaggle
df = kagglehub.load_dataset(KaggleDatasetAdapter.PANDAS, "dgomonov/new-york-city-airbnb-open-data", 'AB_NYC_2019.csv')

print("Dataset Shape:", df.shape)
df.head()

### Data Inspection
print("\nColumns and Data Types:\n", df.dtypes)
print("\nSummary Statistics:\n", df.describe())
print("\nMissing Values:\n", df.isnull().sum())

# Basic Cleaning: Drop irrelevant columns (based on group decision for focus on key features)
df = df.drop(['id', 'name', 'host_id', 'host_name', 'last_review'], axis=1)
print("\nUpdated Columns:", df.columns)
print("New Shape:", df.shape)

### Data Visualization
plt.figure(figsize=(10, 6))
sns.histplot(df['price'], bins=50, kde=True)
plt.title('Price Distribution of Airbnb Listings')
plt.xlabel('Price ($)')
plt.ylabel('Frequency')
plt.show()

plt.figure(figsize=(10, 6))
sns.boxplot(x='room_type', y='price', data=df)
plt.title('Price Distribution by Room Type')
plt.xlabel('Room Type')
plt.ylabel('Price ($)')
plt.show()

plt.figure(figsize=(10, 6))
sns.boxplot(x='neighbourhood_group', y='price', data=df)
plt.title('Price Distribution by Neighbourhood Group')
plt.xlabel('Neighbourhood Group')
plt.ylabel('Price ($)')
plt.xticks(rotation=45)
plt.show()

plt.figure(figsize=(10, 8))
sns.scatterplot(x='longitude', y='latitude', hue='neighbourhood_group', data=df, alpha=0.5)
plt.title('Geographical Distribution of Listings by Neighbourhood Group')
plt.xlabel('Longitude')
plt.ylabel('Latitude')
plt.show()

# Calculate estimated occupancy rate
df['occupancy_rate'] = (365 - df['availability_365']) / 365 * 100

plt.figure(figsize=(10, 6))
sns.histplot(df['occupancy_rate'], bins=50, kde=True)
plt.title('Distribution of Estimated Occupancy Rates')
plt.xlabel('Occupancy Rate (%)')
plt.ylabel('Frequency')
plt.show()

plt.figure(figsize=(10, 6))
sns.boxplot(x='neighbourhood_group', y='occupancy_rate', data=df)
plt.title('Occupancy Rate by Neighbourhood Group')
plt.xlabel('Neighbourhood Group')
plt.ylabel('Occupancy Rate (%)')
plt.xticks(rotation=45)
plt.show()

plt.figure(figsize=(10, 6))
sns.boxplot(x='room_type', y='occupancy_rate', data=df)
plt.title('Occupancy Rate by Room Type')
plt.xlabel('Room Type')
plt.ylabel('Occupancy Rate (%)')
plt.show()
